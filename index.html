<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlackJack Game</title>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>Blackjack</h1>
            <div class="stats">
                <p id="wins">Wins: 0</p>
                <p id="losses">Losses: 0</p>
                <p id="player-el"></p>
            </div>
            <div class="utility-buttons">
                <button onclick="toggleRulesModal()" class="utility-btn rules-btn"><i class="fas fa-book"></i> RULES</button>
                <button onclick="toggleBalanceModal()" class="utility-btn chips-btn"><i class="fas fa-plus-circle"></i> ADD CHIPS</button>
            </div>
        </div>

        <div class="hands-container">
            <div class="dealer-section">
                <h2><i class="fas fa-user-tie"></i> Dealer's Hand</h2>
                <div id="dealer-cards" class="cards-container"></div>
                <p id="dealer-sum"></p>
            </div>

            <div class="player-section">
                <h2><i class="fas fa-user"></i> Your Hand</h2>
                <div id="player-cards" class="cards-container"></div>
                <p id="player-sum"></p>
            </div>
        </div>

        <div class="controls-container">
            <div class="betting-controls">
                <div class="bet-info">
                    <div class="bet-label">Your Bet:</div>
                    <input type="number" id="bet-amount" min="100" max="5000" value="500" step="100">
                    <div class="current-bet">Current Bet: <span id="current-bet-amount">₹0</span></div>
                </div>
                <button onclick="placeBet()" class="bet-btn"><i class="fas fa-coins"></i> PLACE BET</button>
                <div class="balance-display">
                    <div class="balance-label">Your Balance:</div>
                    <div id="player-balance" class="balance-amount"></div>
                    <button onclick="toggleBalanceModal()" class="add-chips-btn"><i class="fas fa-plus-circle"></i> ADD CHIPS</button>
                </div>
            </div>
            
            <div class="game-controls">
                <button onclick="startGame()" id="start-btn" disabled><i class="fas fa-play"></i> START GAME</button>
                <button onclick="hit()" id="hit-btn" disabled><i class="fas fa-plus"></i> HIT</button>
                <button onclick="stand()" id="stand-btn" disabled><i class="fas fa-hand-paper"></i> STAND</button>
            </div>
        </div>

        <div id="message" class="message">Want to play a game?</div>

        <!-- Modals -->
        <div id="rules-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-book"></i> How to Play Blackjack</h3>
                    <button class="close-btn" onclick="toggleRulesModal()">&times;</button>
                </div>
                <div class="rules-content">
                    <div class="rules-section">
                        <h4>Game Objective</h4>
                        <p><i class="fas fa-bullseye"></i> Get closer to 21 than the dealer without going over</p>
                        <p><i class="fas fa-crown"></i> Blackjack (21) pays 2.5x your bet!</p>
                    </div>

                    <div class="rules-section">
                        <h4>Card Values</h4>
                        <p><i class="fas fa-numbers"></i> Number cards (2-10): Worth their face value.</p>
                        <p><i class="fas fa-crown"></i> Face cards (Jack, Queen, King): Each worth 10 points.</p>
                        <p><i class="fas fa-dice-one"></i> Ace: Can be worth either 1 or 11 points, depending on which value benefits the hand more without busting (going over 21).</p>
                    </div>

                    <div class="rules-section">
                        <h4>How to Play</h4>
                        <ol>
                            <li>Place Your Bet: Choose how much you want to bet (between ₹100 and ₹5000) and click "PLACE BET".</li>
                            <li>Start the Game: Click "START GAME" to begin.</li>
                            <li>Your Move:
                                <ul>
                                    <li>"HIT": Ask for another card if you want to add to your total.</li>
                                    <li>"STAND": Keep your current cards if you're happy with your total.</li>
                                </ul>
                            </li>
                            <li>Win Conditions:
                                <ul>
                                    <li>Blackjack (21): If your cards add up to 21, you win 2.5 times your bet.</li>
                                    <li>Beat the Dealer: If your total is higher than the dealer's (without going over 21), you win 2 times your bet.</li>
                                    <li>Dealer Busts: If the dealer's total goes over 21, you win 2 times your bet.</li>
                                    <li>Tie: If your total is the same as the dealer's, you get your bet back.</li>
                                </ul>
                            </li>
                        </ol>
                    </div>

                    <div class="rules-section">
                        <h4>Dealer Rules</h4>
                        <p><i class="fas fa-robot"></i> Dealer must hit on 16 or below</p>
                        <p><i class="fas fa-hand-paper"></i> Dealer must stand on 17 or above</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="balance-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-plus-circle"></i> Add Chips</h3>
                    <button class="close-btn" onclick="toggleBalanceModal()">&times;</button>
                </div>
                <div class="balance-input-container">
                    <input type="number" id="add-balance" min="500" max="50000" value="5000" step="500">
                    <div class="quick-amounts">
                        <button onclick="setQuickAmount(5000)">₹5,000</button>
                        <button onclick="setQuickAmount(10000)">₹10,000</button>
                        <button onclick="setQuickAmount(25000)">₹25,000</button>
                    </div>
                    <button onclick="addBalance()" class="add-balance-btn"><i class="fas fa-plus-circle"></i> Add Chips</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>